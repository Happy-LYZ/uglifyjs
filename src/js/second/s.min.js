define(["uui","webAjax"],function(e,t){var n,o,r;var a;var l;var u=function(e,t,a){n=e;o=t;r=a};u.prototype.onSetDefaultValueWhenAdd=function(e){l=e};u.prototype.onAdd=function(){a=true;o.setCardEnable(n,true);n.head.createEmptyRow();n.events.add();l()};u.prototype.ondelete=function(e){var t=[];var a=o.getHeadValue(e);t.push(a);r.deleteBill(e,t);i()};u.prototype.onSave=function(){var e=o.getAllValue();var t=r.saveBill(a,e);o.setAllValue(t);o.setDataTableRowStatus(Row.STATUS.NORMAL);n.isHasData(true);o.setCardEnable(n,false)};u.prototype.onEdit=function(){a=false;o.setCardEnable(n,true)};u.prototype.onCancel=function(){o.clearAllData();o.setCardEnable(n,false)};u.prototype.onComeBack=function(){i()};var i=function(){window.history.back()};return u});